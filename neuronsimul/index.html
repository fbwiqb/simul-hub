<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif;
            background: linear-gradient(135deg, #f8f9ff 0%, #eef0f8 100%);
            min-height: 100vh;
            padding: 10px;
            padding-bottom: 60px;
            transition: background 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 10px;
            width: 100%;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 22px;
                margin-bottom: 20px;
            }
            
            .control-row {
                flex-direction: column;
                gap: 15px;
            }
            
            input[type="range"] {
                width: 100%;
            }
        }

        h1 {
            text-align: center;
            font-size: 22px;
            margin-bottom: 10px;
            color: #2c3e50;
            text-shadow: 0 2px 4px rgba(0,0,0,0.08);
        }

        .control-panel {
            background: #fff;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            transition: box-shadow 0.3s ease;
        }

        .control-panel:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }

        .control-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .control-row:last-child {
            margin-bottom: 0;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        label {
            font-weight: 600;
            font-size: 16px;
        }

        input[type="number"] {
            padding: 8px 12px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 15px;
            width: 80px;
            transition: all 0.2s ease;
        }

        input[type="number"]:focus {
            border-color: #3d4e9f;
            outline: none;
            box-shadow: 0 0 0 3px rgba(61,78,159,0.1);
        }

        select {
            padding: 8px 12px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 15px;
            background: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        select:hover {
            border-color: #3d4e9f;
        }

        select:focus {
            border-color: #3d4e9f;
            outline: none;
            box-shadow: 0 0 0 3px rgba(61,78,159,0.1);
        }

        input[type="range"] {
            width: 800px;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: #dee2e6;
            border-radius: 5px;
            outline: none;
        }

        @media (max-width: 1200px) {
            input[type="range"] {
                width: 600px;
            }
        }

        @media (max-width: 900px) {
            input[type="range"] {
                width: 400px;
            }
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #3d4e9f;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(61,78,159,0.3);
            transition: all 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            background: #2c3a7a;
            box-shadow: 0 3px 10px rgba(61,78,159,0.5);
            transform: scale(1.15);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #3d4e9f;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(61,78,159,0.3);
            transition: all 0.2s ease;
        }

        input[type="range"]::-moz-range-thumb:hover {
            background: #2c3a7a;
            box-shadow: 0 3px 10px rgba(61,78,159,0.5);
            transform: scale(1.15);
        }

        .time-display {
            font-size: 18px;
            font-weight: bold;
            color: #3d4e9f;
            min-width: 80px;
            text-align: center;
        }

        button {
            padding: 10px 25px;
            font-size: 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }

        .btn-help {
            background: linear-gradient(135deg, #3d4e9f 0%, #5068c4 100%);
            color: white;
        }

        .btn-help:hover {
            background: linear-gradient(135deg, #2c3a7a 0%, #3d4e9f 100%);
        }

        .btn-reset {
            background: linear-gradient(135deg, #dc3545 0%, #e85d6a 100%);
            color: white;
        }

        .btn-reset:hover {
            background: linear-gradient(135deg, #c82333 0%, #dc3545 100%);
        }

        .btn-capture {
            background: linear-gradient(135deg, #28a745 0%, #48c774 100%);
            color: white;
            padding: 8px 20px;
            font-size: 14px;
            margin-left: 10px;
        }

        .btn-capture:hover {
            background: linear-gradient(135deg, #218838 0%, #28a745 100%);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.25);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #3d4e9f 0%, #667eea 100%);
            color: white;
            padding: 20px;
            margin: -30px -30px 20px -30px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            color: white;
            margin: 0;
            font-size: 24px;
        }

        .modal-close {
            background: none;
            color: white;
            border: none;
            font-size: 30px;
            cursor: pointer;
            padding: 0;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg) scale(1.1);
        }

        .modal-close:active {
            transform: rotate(90deg) scale(0.95);
        }

        .modal-body {
            padding: 10px;
            color: #333;
            line-height: 1.8;
        }

        .help-section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3d4e9f;
            transition: all 0.2s ease;
        }

        .help-section:hover {
            background: #f1f3f5;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .help-section h3 {
            color: #3d4e9f;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .help-section p, .help-section ul {
            margin: 10px 0;
        }

        .help-section ul {
            padding-left: 25px;
        }

        .help-section li {
            margin: 8px 0;
        }

        .help-section strong {
            color: #3d4e9f;
        }

        /* í‘œ ìŠ¤íƒ€ì¼ */
        .voltage-table-container {
            border: 2px solid #dee2e6;
            background-color: white;
            padding: 8px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 8px;
            transition: box-shadow 0.3s ease;
        }

        .voltage-table-container:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .voltage-table-container h4 {
            margin-top: 0;
            text-align: center;
            font-size: 13px;
            margin-bottom: 6px;
            color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .voltage-table {
            width: 100%;
            border-collapse: collapse;
        }

        .voltage-table th,
        .voltage-table td {
            border: 2px solid #dee2e6;
            padding: 5px 8px;
            text-align: center;
        }

        .voltage-table th {
            background-color: #e9ecef;
            font-weight: 600;
            font-size: 12px;
        }

        .voltage-table th span {
            font-size: 9px;
            font-weight: 400;
            color: #6c757d;
        }

        .voltage-table td {
            font-size: 13px;
            font-weight: 500;
        }

        .voltage-table td.time-cell {
            font-weight: bold;
            background-color: #f8f9fa;
            font-size: 12px;
        }

        .voltage-table td.voltage-cell {
            background-color: white;
            color: #212529;
        }

        .captured-row {
            background-color: #f8f9fa !important;
        }

        .captured-row td {
            background-color: #f8f9fa !important;
        }

        .live-row td.voltage-cell {
            font-weight: bold;
        }

        .delete-btn {
            background: linear-gradient(135deg, #dc3545 0%, #e85d6a 100%);
            color: white;
            border: none;
            padding: 2px 6px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.2s ease;
            box-shadow: 0 1px 3px rgba(220,53,69,0.3);
        }

        .delete-btn:hover {
            background: linear-gradient(135deg, #c82333 0%, #dc3545 100%);
            transform: scale(1.05);
            box-shadow: 0 2px 6px rgba(220,53,69,0.4);
        }

        .delete-btn:active {
            transform: scale(0.95);
        }

        .neuron-container {
            background: linear-gradient(135deg, #e7f3ff 0%, #d4ebff 100%);
            border: 2px solid #0066cc;
            border-radius: 8px;
            padding: 8px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(0,102,204,0.1);
            transition: box-shadow 0.3s ease;
        }

        .neuron-container:hover {
            box-shadow: 0 4px 12px rgba(0,102,204,0.15);
        }

        #neuronSvg {
            display: block;
            margin: 0 auto;
            max-width: 100%;
            height: auto;
        }

        .graphs-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
            margin-bottom: 15px;
            padding: 0 10px;
            width: 100%;
        }

        @media (min-width: 768px) {
            .graphs-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 767px) {
            .graphs-container {
                grid-template-columns: 1fr;
            }
        }

        .graph-box {
            background: white;
            border-radius: 8px;
            padding: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            width: 100%;
            min-width: 0;
        }

        .graph-box:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .graph-box canvas {
            width: 100% !important;
            height: auto !important;
        }

        .graph-box h3 {
            text-align: center;
            margin-bottom: 4px;
            font-size: 12px;
            padding-bottom: 4px;
        }

        .graph-info {
            text-align: center;
            background: #f8f9fa;
            padding: 4px;
            border-radius: 4px;
            margin-bottom: 6px;
            font-size: 10px;
        }

        .graph-info strong {
            font-size: 11px;
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #3d4e9f;
            color: white;
            text-align: center;
            padding: 10px 20px;
            font-size: 14px;
            z-index: 999;
        }

        .footer a {
            color: white;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .checkbox-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .checkbox-group label {
            cursor: pointer;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§  ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„°</h1>

        <div class="control-panel">
            <div class="control-row">
                <div class="control-group">
                    <label>ğŸ¯ ìê·¹ ì§€ì :</label>
                    <select id="stimulationPoint">
                        <option value="0">dâ‚ (0cm)</option>
                        <option value="1">dâ‚‚ (2cm)</option>
                        <option value="2">dâ‚ƒ (4cm)</option>
                        <option value="3">dâ‚„ (6cm)</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>âš¡ ì „ë„ ì†ë„ (cm/ms):</label>
                    <input type="number" id="speedInput" value="2" step="0.1" min="0.1">
                </div>

                <div class="control-group">
                    <button class="btn-help" id="helpBtn">ğŸ“– ì‚¬ìš©ë²•</button>
                    <button class="btn-help" id="devLogBtn">ğŸ“ ê°œë°œì ë¡œê·¸</button>
                </div>
            </div>

            <div class="control-row">
                <div class="control-group" style="flex: 1;">
                    <label>â±ï¸ ì‹œê°„ ì¡°ì ˆ:</label>
                    <input type="range" id="timeSlider" min="0" max="8" step="0.1" value="0">
                    <span class="time-display" id="timeDisplay">0.0 ms</span>
                </div>
            </div>

            <div class="control-row">
                <div class="checkbox-group">
                    <span style="font-weight: 600;">ğŸ“Š ê·¸ë˜í”„ í‘œì‹œ:</span>
                    <label><input type="checkbox" class="graph-toggle" data-index="0" checked> 0cm</label>
                    <label><input type="checkbox" class="graph-toggle" data-index="1" checked> 2cm</label>
                    <label><input type="checkbox" class="graph-toggle" data-index="2" checked> 4cm</label>
                    <label><input type="checkbox" class="graph-toggle" data-index="3" checked> 6cm</label>
                </div>
            </div>
        </div>

        <div class="neuron-container">
            <svg id="neuronSvg" width="950" height="150">
                <!-- Dendrites -->
                <g id="dendrites">
                    <path d="M 100 45 L 100 25 M 100 25 L 95 15 M 100 25 L 105 15" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 85 50 L 75 30 M 75 30 L 70 20 M 75 30 L 65 25" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 115 50 L 125 30 M 125 30 L 130 20 M 125 30 L 135 25" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 70 75 L 50 75 M 50 75 L 40 70 M 50 75 L 40 80" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 75 60 L 55 45 M 55 45 L 45 40 M 55 45 L 50 35" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 75 90 L 55 105 M 55 105 L 45 110 M 55 105 L 50 115" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 100 105 L 100 125 M 100 125 L 95 135 M 100 125 L 105 135" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 85 100 L 75 120 M 75 120 L 70 130 M 75 120 L 65 125" stroke="#CD853F" stroke-width="1.5" fill="none" />
                    <path d="M 115 100 L 125 120 M 125 120 L 130 130 M 125 120 L 135 125" stroke="#CD853F" stroke-width="1.5" fill="none" />
                </g>

                <!-- Cell body -->
                <circle cx="100" cy="75" r="30" fill="#FFE4B5" stroke="#8B4513" stroke-width="2" />
                <circle cx="100" cy="75" r="10" fill="#CD853F" />
                
                <!-- Axon -->
                <rect x="130" y="69" width="750" height="12" fill="#FFE4B5" stroke="#8B4513" stroke-width="1" />
                
                <!-- Axon terminal -->
                <g id="axon-terminal">
                    <path d="M 880 75 L 920 60" stroke="#8B4513" stroke-width="2" fill="none" />
                    <path d="M 880 75 L 920 75" stroke="#8B4513" stroke-width="2" fill="none" />
                    <path d="M 880 75 L 920 90" stroke="#8B4513" stroke-width="2" fill="none" />
                    <circle cx="920" cy="60" r="5" fill="#FFE4B5" stroke="#8B4513" stroke-width="1" />
                    <circle cx="920" cy="75" r="5" fill="#FFE4B5" stroke="#8B4513" stroke-width="1" />
                    <circle cx="920" cy="90" r="5" fill="#FFE4B5" stroke="#8B4513" stroke-width="1" />
                </g>

                <!-- Labels -->
                <text x="100" y="140" text-anchor="middle" font-size="14" font-weight="bold">ì„¸í¬ì²´</text>

                <!-- Distance markers -->
                <g id="d1-marker">
                    <line x1="250" y1="30" x2="250" y2="120" stroke="black" stroke-width="2" stroke-dasharray="5 3" />
                    <text x="250" y="140" text-anchor="middle" font-size="14" font-weight="bold">0cm</text>
                    <text x="250" y="20" text-anchor="middle" font-size="16" font-weight="bold">dâ‚</text>
                </g>
                <g id="d2-marker">
                    <line x1="430" y1="30" x2="430" y2="120" stroke="black" stroke-width="2" stroke-dasharray="5 3" />
                    <text x="430" y="140" text-anchor="middle" font-size="14" font-weight="bold">2cm</text>
                    <text x="430" y="20" text-anchor="middle" font-size="16" font-weight="bold">dâ‚‚</text>
                </g>
                <g id="d3-marker">
                    <line x1="610" y1="30" x2="610" y2="120" stroke="black" stroke-width="2" stroke-dasharray="5 3" />
                    <text x="610" y="140" text-anchor="middle" font-size="14" font-weight="bold">4cm</text>
                    <text x="610" y="20" text-anchor="middle" font-size="16" font-weight="bold">dâ‚ƒ</text>
                </g>
                <g id="d4-marker">
                    <line x1="790" y1="30" x2="790" y2="120" stroke="black" stroke-width="2" stroke-dasharray="5 3" />
                    <text x="790" y="140" text-anchor="middle" font-size="14" font-weight="bold">6cm</text>
                    <text x="790" y="20" text-anchor="middle" font-size="16" font-weight="bold">dâ‚„</text>
                </g>

                <!-- Signal spark 1 (left) -->
                <g id="spark1" transform="translate(250, 75)" style="display: none;">
                    <circle r="20" fill="yellow" opacity="0.4" />
                    <text font-size="24" fill="gold" dominant-baseline="middle" text-anchor="middle">âš¡</text>
                </g>

                <!-- Signal spark 2 (right) -->
                <g id="spark2" transform="translate(250, 75)" style="display: none;">
                    <circle r="20" fill="yellow" opacity="0.4" />
                    <text font-size="24" fill="gold" dominant-baseline="middle" text-anchor="middle">âš¡</text>
                </g>
            </svg>
        </div>

        <!-- ë§‰ì „ìœ„ í‘œ -->
        <div class="voltage-table-container">
            <h4>
                ğŸ“ˆ ê° ì§€ì ì˜ ë§‰ì „ìœ„ (mV)
                <button class="btn-capture" onclick="captureData()">ğŸ“¸ ìº¡ì²˜</button>
            </h4>
            <table class="voltage-table">
                <thead>
                    <tr>
                        <th>ì‹œê°„</th>
                        <th>dâ‚ <span>(0cm)</span></th>
                        <th>dâ‚‚ <span>(2cm)</span></th>
                        <th>dâ‚ƒ <span>(4cm)</span></th>
                        <th>dâ‚„ <span>(6cm)</span></th>
                        <th>ì‚­ì œ</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr class="live-row">
                        <td class="time-cell" id="tableTime">0.0 ms</td>
                        <td class="voltage-cell" id="tableVoltage0">-70.0</td>
                        <td class="voltage-cell" id="tableVoltage1">-70.0</td>
                        <td class="voltage-cell" id="tableVoltage2">-70.0</td>
                        <td class="voltage-cell" id="tableVoltage3">-70.0</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="graphs-container">
            <div class="graph-box" id="graph0">
                <h3 style="border-bottom: 3px solid #0066cc;">ğŸ“ 0cm ì§€ì </h3>
                <div class="graph-info">
                    í˜„ì¬ ë§‰ì „ìœ„: <strong id="voltage0">-70 mV</strong><br>
                    ìê·¹ í›„ ê²½ê³¼ ì‹œê°„: <strong id="time0">ë„ë‹¬ ì „</strong>
                </div>
                <canvas id="chart0"></canvas>
            </div>

            <div class="graph-box" id="graph1">
                <h3 style="border-bottom: 3px solid #fd7e14;">ğŸ“ 2cm ì§€ì </h3>
                <div class="graph-info">
                    í˜„ì¬ ë§‰ì „ìœ„: <strong id="voltage1">-70 mV</strong><br>
                    ìê·¹ í›„ ê²½ê³¼ ì‹œê°„: <strong id="time1">ë„ë‹¬ ì „</strong>
                </div>
                <canvas id="chart1"></canvas>
            </div>

            <div class="graph-box" id="graph2">
                <h3 style="border-bottom: 3px solid #28a745;">ğŸ“ 4cm ì§€ì </h3>
                <div class="graph-info">
                    í˜„ì¬ ë§‰ì „ìœ„: <strong id="voltage2">-70 mV</strong><br>
                    ìê·¹ í›„ ê²½ê³¼ ì‹œê°„: <strong id="time2">ë„ë‹¬ ì „</strong>
                </div>
                <canvas id="chart2"></canvas>
            </div>

            <div class="graph-box" id="graph3">
                <h3 style="border-bottom: 3px solid #dc3545;">ğŸ“ 6cm ì§€ì </h3>
                <div class="graph-info">
                    í˜„ì¬ ë§‰ì „ìœ„: <strong id="voltage3">-70 mV</strong><br>
                    ìê·¹ í›„ ê²½ê³¼ ì‹œê°„: <strong id="time3">ë„ë‹¬ ì „</strong>
                </div>
                <canvas id="chart3"></canvas>
            </div>
        </div>
    </div>

    <div class="footer">
        â“’ 2025 ì¶©ë‚¨ì‚¼ì„±ê³ ë“±í•™êµ ì‹ ë„ê²½T<br>
        <a href="mailto:pantarei01@cnsa.hs.kr">pantarei01@cnsa.hs.kr</a>
    </div>

    <!-- ì‚¬ìš©ë²• ëª¨ë‹¬ -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“– ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„° ì‚¬ìš©ë²•</h2>
                <button class="modal-close" onclick="closeHelp()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>ğŸ¯ í”„ë¡œê·¸ë¨ ì†Œê°œ</h3>
                    <p><strong>ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„°</strong>ëŠ” ì‹ ê²½ì„¸í¬ì—ì„œ í™œë™ì „ìœ„ê°€ ì¶•ì‚­ì„ ë”°ë¼ ì „ë„ë˜ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ê´€ì°°í•  ìˆ˜ ìˆëŠ” êµìœ¡ìš© í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ì‹ ê²½ì„¸í¬ì˜ ì„¸í¬ì²´ì—ì„œ ì‹œì‘ëœ ì‹ í˜¸ê°€ ì¶•ì‚­ì„ ë”°ë¼ ì´ë™í•˜ë©´ì„œ ê° ì§€ì ì˜ ë§‰ì „ìœ„ê°€ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>

                <div class="help-section">
                    <h3>ğŸ® ê¸°ë³¸ ì‚¬ìš©ë²•</h3>
                    <p><strong>1. ìê·¹ ì§€ì  ì„ íƒ (ì‹ ê·œ ê¸°ëŠ¥!)</strong></p>
                    <ul>
                        <li><strong>ğŸ¯ ìê·¹ ì§€ì </strong>: dâ‚(0cm), dâ‚‚(2cm), dâ‚ƒ(4cm), dâ‚„(6cm) ì¤‘ ìê·¹ì„ ì¤„ ìœ„ì¹˜ë¥¼ ì„ íƒí•©ë‹ˆë‹¤</li>
                        <li>dâ‚ì´ë‚˜ dâ‚„ë¥¼ ì„ íƒí•˜ë©´ í•œ ë°©í–¥ìœ¼ë¡œë§Œ ì‹ í˜¸ê°€ ì „íŒŒë©ë‹ˆë‹¤</li>
                        <li>dâ‚‚ë‚˜ dâ‚ƒë¥¼ ì„ íƒí•˜ë©´ ì–‘ë°©í–¥ìœ¼ë¡œ ëŒ€ì¹­ì ìœ¼ë¡œ ì‹ í˜¸ê°€ ì „íŒŒë©ë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>2. ì „ë„ ì†ë„ ì„¤ì •</strong></p>
                    <ul>
                        <li><strong>âš¡ ì „ë„ ì†ë„ (cm/ms)</strong>: í™œë™ì „ìœ„ê°€ ì¶•ì‚­ì„ ë”°ë¼ ì „íŒŒë˜ëŠ” ì†ë„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤</li>
                        <li>ê¸°ë³¸ê°’ì€ 2 cm/msì´ë©°, 0.1 ë‹¨ìœ„ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ì†ë„ê°€ ë¹ ë¥¼ìˆ˜ë¡ ì‹ í˜¸ê°€ ë” ë¹¨ë¦¬ ì „ë‹¬ë©ë‹ˆë‹¤</li>
                        <li>ì†ë„ë¥¼ ë³€ê²½í•˜ë©´ ìë™ìœ¼ë¡œ ëª¨ë“  ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>3. ì‹œê°„ ì¡°ì ˆ ìŠ¬ë¼ì´ë”</strong></p>
                    <ul>
                        <li><strong>â±ï¸ ì‹œê°„ ì¡°ì ˆ</strong>: ìŠ¬ë¼ì´ë”ë¥¼ ì¢Œìš°ë¡œ ì›€ì§ì—¬ ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„ì„ ì¡°ì ˆí•©ë‹ˆë‹¤</li>
                        <li>0 msë¶€í„° 8 msê¹Œì§€ 0.1 ms ë‹¨ìœ„ë¡œ ì¡°ì ˆ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
                        <li>ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì´ë©´ ì‹¤ì‹œê°„ìœ¼ë¡œ ê° ì§€ì ì˜ ë§‰ì „ìœ„ ë³€í™”ë¥¼ ê´€ì°°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ìŠ¬ë¼ì´ë”ë¥¼ 0ìœ¼ë¡œ ëŒë¦¬ë©´ ì²˜ìŒ ìƒíƒœë¡œ ëŒì•„ê°‘ë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>4. ë°ì´í„° ìº¡ì²˜ ê¸°ëŠ¥ (ì‹ ê·œ ê¸°ëŠ¥!)</strong></p>
                    <ul>
                        <li><strong>ğŸ“¸ ìº¡ì²˜ ë²„íŠ¼</strong>: í˜„ì¬ ì‹œê°„ì˜ ë§‰ì „ìœ„ ë°ì´í„°ë¥¼ í‘œì— ê³ ì •í•©ë‹ˆë‹¤</li>
                        <li>ìº¡ì²˜ëœ í–‰ì€ íšŒìƒ‰ ë°°ê²½ìœ¼ë¡œ í‘œì‹œë˜ë©°, ì‹œê°„ì´ ë³€í•´ë„ ê°’ì´ ê³ ì •ë©ë‹ˆë‹¤</li>
                        <li>ê°€ì¥ ì•„ë˜ í–‰ì€ í•­ìƒ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤</li>
                        <li>ì—¬ëŸ¬ ì‹œê°„ëŒ€ì˜ ë°ì´í„°ë¥¼ ìº¡ì²˜í•˜ì—¬ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>âŒ ë²„íŠ¼ì„ ëˆŒëŸ¬ ìº¡ì²˜ëœ ë°ì´í„°ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                    </ul>

                    <p><strong>5. ë§‰ì „ìœ„ í‘œ í™•ì¸</strong></p>
                    <ul>
                        <li><strong>ğŸ“ˆ ê° ì§€ì ì˜ ë§‰ì „ìœ„ í‘œ</strong>: ì‹ ê²½ì„¸í¬ ê·¸ë¦¼ ì•„ë˜ì— ì‹¤ì‹œê°„ ë§‰ì „ìœ„ ê°’ì„ í‘œë¡œ í‘œì‹œí•©ë‹ˆë‹¤</li>
                        <li>í˜„ì¬ ì‹œê°„ê³¼ ë„¤ ì§€ì (dâ‚~dâ‚„)ì˜ ë§‰ì „ìœ„ë¥¼ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ë§‰ì „ìœ„ ê°’ì€ í™œë™ì „ìœ„ì˜ ë‹¨ê³„ë³„ë¡œ ìƒ‰ìƒì´ ë³€í•©ë‹ˆë‹¤:
                            <ul>
                                <li>íšŒìƒ‰: íœ´ì§€ì „ìœ„ (-70mV) ë˜ëŠ” ì‹ í˜¸ ë„ë‹¬ ì „</li>
                                <li>ë¹¨ê°•: íƒˆë¶„ê·¹ ë‹¨ê³„ (0~2ms, ë§‰ì „ìœ„ ìƒìŠ¹ ì¤‘)</li>
                                <li>ì´ˆë¡: ì¬ë¶„ê·¹ ë‹¨ê³„ (2~3ms, ë§‰ì „ìœ„ í•˜ê°• ì¤‘)</li>
                                <li>íŒŒë‘: ê³¼ë¶„ê·¹ ë‹¨ê³„ (3~4ms, -70mV ì´í•˜ë¡œ í•˜ê°•)</li>
                            </ul>
                        </li>
                    </ul>

                    <p><strong>6. ê·¸ë˜í”„ í‘œì‹œ ì„ íƒ</strong></p>
                    <ul>
                        <li><strong>ğŸ“Š ê·¸ë˜í”„ í‘œì‹œ</strong>: ì²´í¬ë°•ìŠ¤ë¥¼ í†µí•´ ì›í•˜ëŠ” ì§€ì ì˜ ê·¸ë˜í”„ë§Œ ì„ íƒì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>0cm, 2cm, 4cm, 6cm ë„¤ ì§€ì ì˜ ê·¸ë˜í”„ë¥¼ ììœ ë¡­ê²Œ ì¼œê³  ëŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ê·¸ë˜í”„ëŠ” 2x2 ê²©ì í˜•íƒœë¡œ ë°°ì¹˜ë˜ì–´ í•œëˆˆì— ë¹„êµí•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ“Š ê·¸ë˜í”„ ì´í•´í•˜ê¸°</h3>
                    <p>ê° ê·¸ë˜í”„ëŠ” íŠ¹ì • ì§€ì ì—ì„œì˜ ë§‰ì „ìœ„ ë³€í™”ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤:</p>
                    <ul>
                        <li><strong>ê°€ë¡œì¶•</strong>: ì‹œê°„ (ms, ë°€ë¦¬ì´ˆ)</li>
                        <li><strong>ì„¸ë¡œì¶•</strong>: ë§‰ì „ìœ„ (mV, ë°€ë¦¬ë³¼íŠ¸)</li>
                        <li><strong>í™œë™ì „ìœ„ì˜ ë‹¨ê³„ë³„ ìƒ‰ìƒ êµ¬ë¶„:</strong>
                            <ul>
                                <li><strong style="color: #6c757d;">íšŒìƒ‰</strong>: íœ´ì§€ì „ìœ„ (-70 mV) ë˜ëŠ” ì‹ í˜¸ ë„ë‹¬ ì „</li>
                                <li><strong style="color: #dc3545;">ë¹¨ê°•</strong>: íƒˆë¶„ê·¹ ë‹¨ê³„ (0~2ms, ë§‰ì „ìœ„ ìƒìŠ¹)</li>
                                <li><strong style="color: #28a745;">ì´ˆë¡</strong>: ì¬ë¶„ê·¹ ë‹¨ê³„ (2~3ms, ë§‰ì „ìœ„ í•˜ê°•)</li>
                                <li><strong style="color: #0066cc;">íŒŒë‘</strong>: ê³¼ë¶„ê·¹ ë‹¨ê³„ (3~4ms, -70mV ì´í•˜)</li>
                            </ul>
                        </li>
                        <li><strong>í™œë™ì „ìœ„ í”¼í¬</strong>: ì•½ +30 mV (ìµœê³ ì , íƒˆë¶„ê·¹ ë‹¨ê³„ ì¤‘)</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ§  ì‹ ê²½ì„¸í¬ êµ¬ì¡°</h3>
                    <ul>
                        <li><strong>ì„¸í¬ì²´</strong>: ì‹ ê²½ì„¸í¬ì˜ ì¤‘ì‹¬ë¶€ë¡œ, í•µì´ ìœ„ì¹˜í•œ ê³³ì…ë‹ˆë‹¤</li>
                        <li><strong>ìˆ˜ìƒëŒê¸°</strong>: ë‹¤ë¥¸ ì‹ ê²½ì„¸í¬ë¡œë¶€í„° ì‹ í˜¸ë¥¼ ë°›ëŠ” ê°€ì§€ ëª¨ì–‘ì˜ êµ¬ì¡°ì…ë‹ˆë‹¤</li>
                        <li><strong>ì¶•ì‚­</strong>: ì „ê¸° ì‹ í˜¸ê°€ ì „ë‹¬ë˜ëŠ” ê¸´ ëŒê¸°ì…ë‹ˆë‹¤</li>
                        <li><strong>ì¶•ì‚­ ë§ë‹¨</strong>: ë‹¤ë¥¸ ì‹ ê²½ì„¸í¬ë‚˜ ê·¼ìœ¡ ì„¸í¬ë¡œ ì‹ í˜¸ë¥¼ ì „ë‹¬í•˜ëŠ” ëë¶€ë¶„ì…ë‹ˆë‹¤</li>
                        <li><strong>âš¡ ë²ˆê°œ ì•„ì´ì½˜</strong>: í˜„ì¬ í™œë™ì „ìœ„ê°€ ìœ„ì¹˜í•œ ì§€ì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ’¡ í•™ìŠµ íŒ</h3>
                    <ul>
                        <li><strong>ì–‘ë°©í–¥ ì „íŒŒ ê´€ì°°</strong>: dâ‚‚ë‚˜ dâ‚ƒì—ì„œ ìê·¹ì„ ì£¼ê³  ì–‘ìª½ìœ¼ë¡œ ë™ì‹œì— ì „íŒŒë˜ëŠ” ê²ƒì„ ê´€ì°°í•˜ì„¸ìš”</li>
                        <li><strong>ì „ë„ ì†ë„ ë³€í™” ê´€ì°°</strong>: ì „ë„ ì†ë„ë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•˜ê³  ì‹ í˜¸ ë„ë‹¬ ì‹œê°„ ì°¨ì´ë¥¼ ë¹„êµí•´ë³´ì„¸ìš”</li>
                        <li><strong>ì§€ì ë³„ ë¹„êµ</strong>: ì—¬ëŸ¬ ì§€ì ì˜ ê·¸ë˜í”„ë¥¼ ë™ì‹œì— ë³´ë©´ì„œ ì‹ í˜¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ì„¸ìš”</li>
                        <li><strong>ë°ì´í„° ìº¡ì²˜ í™œìš©</strong>: 1ms, 2ms, 3ms ë“± ì£¼ìš” ì‹œì ì˜ ë°ì´í„°ë¥¼ ìº¡ì²˜í•˜ì—¬ í‘œë¡œ ì •ë¦¬í•´ë³´ì„¸ìš”</li>
                        <li><strong>ë§‰ì „ìœ„ ë³€í™” ë‹¨ê³„</strong>: ìŠ¬ë¼ì´ë”ë¥¼ ì²œì²œíˆ ì›€ì§ì´ë©° íœ´ì§€ì „ìœ„ â†’ íƒˆë¶„ê·¹ â†’ ì¬ë¶„ê·¹ â†’ ê³¼ë¶„ê·¹ ë‹¨ê³„ë¥¼ ê´€ì°°í•˜ì„¸ìš”</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ”¬ ê³¼í•™ì  ë°°ê²½</h3>
                    <p><strong>í™œë™ì „ìœ„ë€?</strong></p>
                    <p>ì‹ ê²½ì„¸í¬ì—ì„œ ì „ê¸° ì‹ í˜¸ê°€ ë°œìƒí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤. ìê·¹ì´ ì—­ì¹˜ë¥¼ ë„˜ìœ¼ë©´ Naâº(ë‚˜íŠ¸ë¥¨) í†µë¡œê°€ ì—´ë¦¬ë©° ë§‰ì „ìœ„ê°€ ê¸‰ê²©íˆ ìƒìŠ¹í•˜ê³ , ì´ì–´ì„œ Kâº(ì¹¼ë¥¨) í†µë¡œê°€ ì—´ë¦¬ë©° ë§‰ì „ìœ„ê°€ ë‹¤ì‹œ í•˜ê°•í•©ë‹ˆë‹¤.</p>
                    
                    <p><strong>ì „ë„ ê³¼ì •:</strong></p>
                    <p>í™œë™ì „ìœ„ëŠ” ì¶•ì‚­ì„ ë”°ë¼ ì „íŒŒë©ë‹ˆë‹¤. ì‹¤ì œ ì‹ ê²½ì„¸í¬ì—ì„œëŠ” ì„¸í¬ì²´ì—ì„œ ì‹œì‘ë˜ì–´ í•œ ë°©í–¥ìœ¼ë¡œë§Œ ì „íŒŒë˜ì§€ë§Œ, ì‹¤í—˜ì ìœ¼ë¡œ ì¶•ì‚­ì˜ ì¤‘ê°„ ì§€ì ì„ ìê·¹í•˜ë©´ ì–‘ë°©í–¥ìœ¼ë¡œ ì „íŒŒë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ ìˆ˜ ì‹ ê²½ì„¬ìœ ì—ì„œëŠ” ë„ì•½ì „ë„ê°€ ì¼ì–´ë‚˜ ë” ë¹ ë¥¸ ì „ë„ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                </div>

                <div class="help-section">
                    <h3>â“ FAQ</h3>
                    <p><strong>Q: ì™œ ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ ì‹ í˜¸ê°€ ì‚¬ë¼ì§€ë‚˜ìš”?</strong></p>
                    <p>A: ì‹¤ì œ ì‹ ê²½ì„¸í¬ì—ì„œë„ í™œë™ì „ìœ„ëŠ” ì•½ 1-2msì˜ ì§§ì€ ì‹œê°„ ë™ì•ˆë§Œ ì§€ì†ë©ë‹ˆë‹¤. ì´í›„ ë¶ˆì‘ê¸°ë¥¼ ê±°ì³ ë‹¤ì‹œ íœ´ì§€ì „ìœ„ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.</p>
                    
                    <p><strong>Q: ì–‘ë°©í–¥ ì „íŒŒëŠ” ì‹¤ì œë¡œë„ ì¼ì–´ë‚˜ë‚˜ìš”?</strong></p>
                    <p>A: ì •ìƒì ì¸ ìƒí™©ì—ì„œëŠ” ì„¸í¬ì²´ì—ì„œ ì¶•ì‚­ ë§ë‹¨ìœ¼ë¡œë§Œ ì „íŒŒë˜ì§€ë§Œ, ì‹¤í—˜ì ìœ¼ë¡œ ì¶•ì‚­ ì¤‘ê°„ì„ ìê·¹í•˜ë©´ ì–‘ë°©í–¥ ì „íŒŒê°€ ì¼ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    
                    <p><strong>Q: ê·¸ë˜í”„ì—ì„œ 'ë„ë‹¬ ì „'ì€ ë¬´ìŠ¨ ì˜ë¯¸ì¸ê°€ìš”?</strong></p>
                    <p>A: í™œë™ì „ìœ„ê°€ ì•„ì§ í•´ë‹¹ ì§€ì ì— ë„ë‹¬í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. ì „ë„ ì†ë„ì— ë”°ë¼ ê° ì§€ì ë§ˆë‹¤ ì‹ í˜¸ ë„ë‹¬ ì‹œê°„ì´ ë‹¤ë¦…ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ê°œë°œì ë¡œê·¸ ëª¨ë‹¬ -->
    <div class="modal" id="devLogModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“ ê°œë°œì ë¡œê·¸</h2>
                <button class="modal-close" onclick="closeDevLog()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <div class="log-date" style="color: #3d4e9f; font-weight: bold; font-size: 1.1em; margin-bottom: 10px;">2025. 10. 27. (ì›”)</div>
                    <div class="log-text">
                        <strong>ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„° v2.0 ì—…ë°ì´íŠ¸</strong><br>
                        - ğŸ¯ ìê·¹ ì§€ì  ì„ íƒ ê¸°ëŠ¥ ì¶”ê°€ (dâ‚~dâ‚„)<br>
                        - âš¡ ì–‘ë°©í–¥ ì „íŒŒ ì‹œë®¬ë ˆì´ì…˜ êµ¬í˜„<br>
                        - ğŸ“ ì‹œê°„ ìŠ¬ë¼ì´ë” ê¸¸ì´ í™•ì¥ (ë” ì •ë°€í•œ ì¡°ì ˆ)<br>
                        - ğŸ“¸ ë°ì´í„° ìº¡ì²˜ ê¸°ëŠ¥ ì¶”ê°€ (í‘œì— ëˆ„ì  ì €ì¥)<br>
                        - âŒ ìº¡ì²˜ëœ ë°ì´í„° ì‚­ì œ ê¸°ëŠ¥<br><br>
                        
                        í•™ìƒë“¤ì´ ë‹¤ì–‘í•œ ìê·¹ ì¡°ê±´ì—ì„œ í™œë™ì „ìœ„ ì „íŒŒë¥¼ ê´€ì°°í•˜ê³ , ì£¼ìš” ì‹œì ì˜ ë°ì´í„°ë¥¼ ìº¡ì²˜í•˜ì—¬ ë¹„êµ ë¶„ì„í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
                    </div>
                </div>

                <div class="help-section">
                    <div class="log-date" style="color: #3d4e9f; font-weight: bold; font-size: 1.1em; margin-bottom: 10px;">2025. 10. 26. (ì¼)</div>
                    <div class="log-text">
                        <strong>ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„° v1.0 ì¶œì‹œ</strong><br>
                        ì‹ ê²½ì„¸í¬ì—ì„œ í™œë™ì „ìœ„ê°€ ì¶•ì‚­ì„ ë”°ë¼ ì „ë„ë˜ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆëŠ” êµìœ¡ìš© ì‹œë®¬ë ˆì´ì…˜ í”„ë¡œê·¸ë¨ì„ ê³µê°œí–ˆìŠµë‹ˆë‹¤. 
                        ì‹œê°„ ìŠ¬ë¼ì´ë”ë¥¼ í†µí•´ ê° ì§€ì ì˜ ë§‰ì „ìœ„ ë³€í™”ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ì°°í•˜ê³ , ì „ë„ ì†ë„ì— ë”°ë¥¸ ì°¨ì´ë¥¼ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                </div>
                
                <div class="help-section">
                    <div class="log-date" style="color: #3d4e9f; font-weight: bold; font-size: 1.1em; margin-bottom: 10px;">Â©ï¸ ì €ì‘ê¶Œ ì •ë³´</div>
                    <div class="log-text">
                        <strong>ì‹ ê²½ì„¸í¬ ë§‰ì „ìœ„ ì‹œë®¬ë ˆì´í„° v2.0</strong><br><br>
                        â“’ 2025 ì¶©ë‚¨ì‚¼ì„±ê³ ë“±í•™êµ ì‹ ë„ê²½ êµì‚¬<br>
                        ì´ë©”ì¼: <a href="mailto:pantarei01@cnsa.hs.kr">pantarei01@cnsa.hs.kr</a><br><br>
                        
                        ë³¸ í”„ë¡œê·¸ë¨ì€ êµìœ¡ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìœ¼ë©°, ììœ ë¡­ê²Œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                        ìƒì—…ì  ì´ìš© ì‹œì—ëŠ” ì œì‘ìì—ê²Œ ë¬¸ì˜í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë§‰ì „ìœ„ ë°ì´í„° ìƒì„± í•¨ìˆ˜ (ì›ë³¸ ê·¸ëŒ€ë¡œ)
        function createMembraneData(delay) {
            const data = [];
            for (let t = 0; t <= 8; t += 0.1) {
                let v = -70;
                const localT = t - delay;
                if (localT >= 0 && localT < 1.0) {
                    v = -70 + (localT / 1.0) * 20; // -70 â†’ -50
                } else if (localT >= 1.0 && localT < 2.0) {
                    v = -50 + ((localT - 1.0) / 1.0) * 80; // -50 â†’ +30
                } else if (localT >= 2.0 && localT < 3.0) {
                    v = 30 - ((localT - 2.0) / 1.0) * 110; // +30 â†’ -80
                } else if (localT >= 3.0 && localT < 4.0) {
                    v = -80 + ((localT - 3.0) / 1.0) * 10; // -80 â†’ -70
                } else if (localT >= 4.0) {
                    v = -70; // íœ´ì§€ì „ìœ„ ìœ ì§€
                }
                data.push({ time: parseFloat(t.toFixed(1)), voltage: parseFloat(v.toFixed(1)) });
            }
            return data;
        }

        // ì „ì—­ ë³€ìˆ˜
        const distances = [0, 2, 4, 6];
        const chartColors = ['#0066cc', '#fd7e14', '#28a745', '#dc3545'];
        const charts = [];
        let currentTime = 0;
        let speed = 2;
        let stimulationPoint = 0; // ìê·¹ ì§€ì  (0: d1, 1: d2, 2: d3, 3: d4)
        let capturedData = []; // ìº¡ì²˜ëœ ë°ì´í„° ë°°ì—´

        // ì°¨íŠ¸ ì´ˆê¸°í™”
        distances.forEach((distance, index) => {
            const ctx = document.getElementById(`chart${index}`).getContext('2d');
            const delay = Math.abs(distances[stimulationPoint] - distance) / speed;
            const data = createMembraneData(delay);
            
            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.map(d => d.time),
                    datasets: [{
                        label: 'ë§‰ì „ìœ„ (mV)',
                        data: data.map(d => d.voltage),
                        borderColor: chartColors[index],
                        backgroundColor: `${chartColors[index]}20`,
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    aspectRatio: 2.2,
                    plugins: {
                        legend: { display: false },
                        tooltip: { 
                            enabled: true,
                            titleFont: { size: 9 },
                            bodyFont: { size: 9 }
                        }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'ì‹œê°„ (ms)', font: { size: 9, weight: 'bold' } },
                            ticks: { 
                                font: { size: 7 },
                                stepSize: 1,
                                callback: function(value, index) {
                                    const label = this.getLabelForValue(value);
                                    return label % 1 === 0 ? label : '';
                                }
                            }
                        },
                        y: {
                            title: { display: true, text: 'ë§‰ì „ìœ„ (mV)', font: { size: 9, weight: 'bold' } },
                            ticks: { font: { size: 7 } },
                            min: -100,
                            max: 50
                        }
                    }
                }
            });
            
            charts.push(chart);
        });

        // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function() {
                charts.forEach(chart => {
                    chart.resize();
                });
            }, 100);
        });

        // ë§‰ì „ìœ„ ìƒ‰ìƒ ê²°ì • í•¨ìˆ˜ (ë‹¨ê³„ë³„)
        function getVoltageColor(voltage, delay, currentTime) {
            const localTime = currentTime - delay;
            
            // ì‹ í˜¸ê°€ ë„ë‹¬í•˜ê¸° ì „
            if (localTime < 0) {
                return '#6c757d'; // íšŒìƒ‰ (íœ´ì§€ì „ìœ„)
            }
            
            // íƒˆë¶„ê·¹ (0~2ms): ë¹¨ê°•
            if (localTime >= 0 && localTime < 2.0) {
                return '#dc3545'; // ë¹¨ê°•
            }
            
            // ì¬ë¶„ê·¹ (2~3ms): ì´ˆë¡
            if (localTime >= 2.0 && localTime < 3.0) {
                return '#28a745'; // ì´ˆë¡
            }
            
            // ê³¼ë¶„ê·¹ (3~4ms): íŒŒë‘
            if (localTime >= 3.0 && localTime < 4.0) {
                return '#0066cc'; // íŒŒë‘
            }
            
            // ë‹¤ì‹œ íœ´ì§€ì „ìœ„ë¡œ ë³µê·€ (4ms ì´í›„): íšŒìƒ‰
            return '#6c757d'; // íšŒìƒ‰
        }

        // ë²ˆê°œ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateSparkPosition() {
            const spark1 = document.getElementById('spark1');
            const spark2 = document.getElementById('spark2');
            
            const markerPositions = [250, 430, 610, 790]; // d1~d4ì˜ x ì¢Œí‘œ
            const stimPos = markerPositions[stimulationPoint];
            const stimDist = distances[stimulationPoint];
            
            const traveled = currentTime * speed; // í˜„ì¬ê¹Œì§€ ì´ë™í•œ ê±°ë¦¬ (cm)
            
            // ìê·¹ ì§€ì ì— ë”°ë¥¸ ë²ˆê°œ í‘œì‹œ
            if (stimulationPoint === 0) {
                // d1: ì˜¤ë¥¸ìª½ìœ¼ë¡œë§Œ ì „íŒŒ
                const rightDist = 6; // d1ì—ì„œ d4ê¹Œì§€ ê±°ë¦¬
                if (traveled <= rightDist) {
                    const xPos = stimPos + (traveled / 6) * (markerPositions[3] - markerPositions[0]);
                    spark1.setAttribute('transform', `translate(${xPos}, 75)`);
                    spark1.style.display = 'block';
                } else {
                    spark1.style.display = 'none';
                }
                spark2.style.display = 'none';
                
            } else if (stimulationPoint === 3) {
                // d4: ì™¼ìª½ìœ¼ë¡œë§Œ ì „íŒŒ
                const leftDist = 6; // d4ì—ì„œ d1ê¹Œì§€ ê±°ë¦¬
                if (traveled <= leftDist) {
                    const xPos = stimPos - (traveled / 6) * (markerPositions[3] - markerPositions[0]);
                    spark1.setAttribute('transform', `translate(${xPos}, 75)`);
                    spark1.style.display = 'block';
                } else {
                    spark1.style.display = 'none';
                }
                spark2.style.display = 'none';
                
            } else {
                // d2, d3: ì–‘ë°©í–¥ ì „íŒŒ
                const leftDist = stimDist; // ì™¼ìª½ ëê¹Œì§€ ê±°ë¦¬
                const rightDist = 6 - stimDist; // ì˜¤ë¥¸ìª½ ëê¹Œì§€ ê±°ë¦¬
                
                // ì™¼ìª½ ë²ˆê°œ
                if (traveled <= leftDist) {
                    const xPos = stimPos - (traveled / 6) * (markerPositions[3] - markerPositions[0]);
                    spark1.setAttribute('transform', `translate(${xPos}, 75)`);
                    spark1.style.display = 'block';
                } else {
                    spark1.style.display = 'none';
                }
                
                // ì˜¤ë¥¸ìª½ ë²ˆê°œ
                if (traveled <= rightDist) {
                    const xPos = stimPos + (traveled / 6) * (markerPositions[3] - markerPositions[0]);
                    spark2.setAttribute('transform', `translate(${xPos}, 75)`);
                    spark2.style.display = 'block';
                } else {
                    spark2.style.display = 'none';
                }
            }
        }

        // ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateSimulation() {
            // ì‹œê°„ í‘œì‹œ ì—…ë°ì´íŠ¸
            document.getElementById('timeDisplay').textContent = `${currentTime.toFixed(1)} ms`;
            document.getElementById('tableTime').textContent = `${currentTime.toFixed(1)} ms`;
            
            // ë²ˆê°œ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
            updateSparkPosition();

            // ê° ì§€ì  ì—…ë°ì´íŠ¸
            distances.forEach((distance, index) => {
                const delay = Math.abs(distances[stimulationPoint] - distance) / speed;
                const data = createMembraneData(delay);
                const current = data.find((d, i, arr) => currentTime <= d.time || i === arr.length - 1) || { time: currentTime, voltage: -70 };
                
                // ë‹¨ê³„ë³„ ìƒ‰ìƒ ê²°ì •
                const voltageColor = getVoltageColor(current.voltage, delay, currentTime);
                
                // ì „ì•• í‘œì‹œ ì—…ë°ì´íŠ¸
                const voltageElem = document.getElementById(`voltage${index}`);
                voltageElem.textContent = `${current.voltage} mV`;
                voltageElem.style.color = voltageColor;
                
                // í‘œì˜ ì „ì•• ì—…ë°ì´íŠ¸ (ì‹¤ì‹œê°„ í–‰ë§Œ)
                const tableVoltageElem = document.getElementById(`tableVoltage${index}`);
                if (tableVoltageElem) {
                    tableVoltageElem.textContent = current.voltage.toFixed(1);
                    tableVoltageElem.style.color = voltageColor;
                }
                
                // ì‹œê°„ í‘œì‹œ ì—…ë°ì´íŠ¸
                const timeElem = document.getElementById(`time${index}`);
                if (currentTime >= delay) {
                    timeElem.textContent = `${(currentTime - delay).toFixed(1)} ms`;
                } else {
                    timeElem.textContent = 'ë„ë‹¬ ì „';
                }

                // ì°¨íŠ¸ í¬ì¸íŠ¸ ì—…ë°ì´íŠ¸
                const dataIndex = data.findIndex(d => d.time === current.time);
                if (dataIndex >= 0) {
                    charts[index].data.datasets[0].pointRadius = data.map((_, i) => i === dataIndex ? 8 : 0);
                    charts[index].update('none');
                }
            });
        }

        // ì´ˆê¸°í™” í•¨ìˆ˜
        function reset() {
            currentTime = 0;
            speed = parseFloat(document.getElementById('speedInput').value);
            stimulationPoint = parseInt(document.getElementById('stimulationPoint').value);
            document.getElementById('timeSlider').value = 0;
            capturedData = [];
            
            // ì°¨íŠ¸ ë°ì´í„° ì—…ë°ì´íŠ¸
            distances.forEach((distance, index) => {
                const delay = Math.abs(distances[stimulationPoint] - distance) / speed;
                const data = createMembraneData(delay);
                charts[index].data.labels = data.map(d => d.time);
                charts[index].data.datasets[0].data = data.map(d => d.voltage);
                charts[index].data.datasets[0].pointRadius = 0;
                charts[index].update();
            });
            
            renderTable();
            updateSimulation();
        }

        // ìº¡ì²˜ í•¨ìˆ˜
        function captureData() {
            const captured = {
                time: currentTime.toFixed(1),
                voltages: [],
                colors: []  // ìƒ‰ìƒ ì •ë³´ ì¶”ê°€
            };
            
            distances.forEach((distance, index) => {
                const delay = Math.abs(distances[stimulationPoint] - distance) / speed;
                const data = createMembraneData(delay);
                const current = data.find((d, i, arr) => currentTime <= d.time || i === arr.length - 1) || { time: currentTime, voltage: -70 };
                const color = getVoltageColor(current.voltage, delay, currentTime);  // ìƒ‰ìƒ ê³„ì‚°
                
                captured.voltages.push(current.voltage.toFixed(1));
                captured.colors.push(color);  // ìƒ‰ìƒ ì €ì¥
            });
            
            capturedData.push(captured);
            renderTable();
        }

        // í…Œì´ë¸” ë Œë”ë§ í•¨ìˆ˜
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            
            // ìº¡ì²˜ëœ ë°ì´í„° í–‰ë“¤
                capturedData.forEach((capture, idx) => {
                    const row = document.createElement('tr');
                    row.className = 'captured-row';
                    row.innerHTML = `
                        <td class="time-cell">${capture.time} ms</td>
                        <td class="voltage-cell" style="color: ${capture.colors[0]}; font-weight: bold;">${capture.voltages[0]}</td>
                        <td class="voltage-cell" style="color: ${capture.colors[1]}; font-weight: bold;">${capture.voltages[1]}</td>
                        <td class="voltage-cell" style="color: ${capture.colors[2]}; font-weight: bold;">${capture.voltages[2]}</td>
                        <td class="voltage-cell" style="color: ${capture.colors[3]}; font-weight: bold;">${capture.voltages[3]}</td>
                        <td><button class="delete-btn" onclick="deleteCapture(${idx})">âŒ</button></td>
                    `;
                    tbody.appendChild(row);
                });
            
            // ì‹¤ì‹œê°„ ë°ì´í„° í–‰
            const liveRow = document.createElement('tr');
            liveRow.className = 'live-row';
            liveRow.innerHTML = `
                <td class="time-cell" id="tableTime">${currentTime.toFixed(1)} ms</td>
                <td class="voltage-cell" id="tableVoltage0">-70.0</td>
                <td class="voltage-cell" id="tableVoltage1">-70.0</td>
                <td class="voltage-cell" id="tableVoltage2">-70.0</td>
                <td class="voltage-cell" id="tableVoltage3">-70.0</td>
                <td>-</td>
            `;
            tbody.appendChild(liveRow);
            
            updateSimulation();
        }

        // ìº¡ì²˜ ì‚­ì œ í•¨ìˆ˜
        function deleteCapture(index) {
            capturedData.splice(index, 1);
            renderTable();
        }

        // ëª¨ë‹¬ í•¨ìˆ˜
        function showHelp() {
            document.getElementById('helpModal').style.display = 'block';
        }

        function closeHelp() {
            document.getElementById('helpModal').style.display = 'none';
        }

        function showDevLog() {
            document.getElementById('devLogModal').style.display = 'block';
        }

        function closeDevLog() {
            document.getElementById('devLogModal').style.display = 'none';
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const helpModal = document.getElementById('helpModal');
            const devLogModal = document.getElementById('devLogModal');
            if (event.target === helpModal) {
                helpModal.style.display = 'none';
            }
            if (event.target === devLogModal) {
                devLogModal.style.display = 'none';
            }
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('helpBtn').addEventListener('click', showHelp);
        document.getElementById('devLogBtn').addEventListener('click', showDevLog);
        document.getElementById('speedInput').addEventListener('change', reset);
        document.getElementById('stimulationPoint').addEventListener('change', reset);
        
        // ì‹œê°„ ìŠ¬ë¼ì´ë”
        document.getElementById('timeSlider').addEventListener('input', (e) => {
            currentTime = parseFloat(e.target.value);
            updateSimulation();
        });

        // ê·¸ë˜í”„ í† ê¸€
        document.querySelectorAll('.graph-toggle').forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const index = parseInt(e.target.dataset.index);
                const graphBox = document.getElementById(`graph${index}`);
                graphBox.style.display = e.target.checked ? 'block' : 'none';
            });
        });

        // ì´ˆê¸° ì—…ë°ì´íŠ¸
        updateSimulation();
    </script>
</body>
</html>
